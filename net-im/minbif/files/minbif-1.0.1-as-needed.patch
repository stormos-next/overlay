diff -ru minbif-1.0.1~/CMakeLists.txt minbif-1.0.1/CMakeLists.txt
--- minbif-1.0.1~/CMakeLists.txt	2010-02-28 14:44:26.000000000 +0100
+++ minbif-1.0.1/CMakeLists.txt	2010-02-28 14:50:19.000000000 +0100
@@ -19,6 +19,7 @@
 INCLUDE(CheckLibraryExists)
 
 PKG_CHECK_MODULES(PURPLE REQUIRED purple>=2.4)
+PKG_CHECK_MODULES(GTHREAD REQUIRED gthread-2.0)
 
 OPTION(ENABLE_MINBIF "Enable minbif compilation" ON)
 OPTION(ENABLE_PLUGIN "Enable plugin build" OFF)
@@ -74,8 +75,8 @@
 	ENDIF (HAVE_LPAM)
 ENDIF (ENABLE_PAM)
 
-INCLUDE_DIRECTORIES(${PURPLE_INCLUDE_DIRS} ${CACA_INCLUDE_DIRS} ${IMLIB_INCLUDE_DIRS} ${GSTREAMER_INCLUDE_DIRS} ${FARSIGHT_INCLUDE_DIRS} ${LIBXML_INCLUDE_DIRS} "src/")
-LINK_DIRECTORIES(${PURPLE_LINK_DIRS} ${CACA_LINK_DIRS} ${IMLIB_LINK_DIRS} ${GSTREAMER_LINK_DIRS} ${FARSIGHT_LINK_DIRS} ${LIBXML_LINK_DIRS})
+INCLUDE_DIRECTORIES(${PURPLE_INCLUDE_DIRS} ${GTHREAD_INCLUDE_DIRS} ${CACA_INCLUDE_DIRS} ${IMLIB_INCLUDE_DIRS} ${GSTREAMER_INCLUDE_DIRS} ${FARSIGHT_INCLUDE_DIRS} ${LIBXML_INCLUDE_DIRS} "src/")
+LINK_DIRECTORIES(${PURPLE_LINK_DIRS} ${GTHREAD_LINK_DIRS} ${CACA_LINK_DIRS} ${IMLIB_LINK_DIRS} ${GSTREAMER_LINK_DIRS} ${FARSIGHT_LINK_DIRS} ${LIBXML_LINK_DIRS})
 
 SET(CMAKE_BUILD_TYPE ${BUILD})
 SET(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -D_REENTRANT -D_FILE_OFFSET_BITS=64 -Werror -Wall -Wextra -Wno-unused-parameter")
diff -ru minbif-1.0.1~/src/CMakeLists.txt minbif-1.0.1/src/CMakeLists.txt
--- minbif-1.0.1~/src/CMakeLists.txt	2010-02-28 14:44:26.000000000 +0100
+++ minbif-1.0.1/src/CMakeLists.txt	2010-02-28 14:51:40.000000000 +0100
@@ -44,7 +44,7 @@
 		irc/conversation_channel.cpp
 	      )
 
-TARGET_LINK_LIBRARIES(${BIN_NAME} "-lpthread -lstdc++" ${PURPLE_LDFLAGS} ${CACA_LDFLAGS} ${IMLIB_LDFLAGS} ${GSTREAMER_LDFLAGS} ${FARSIGHT_LDFLAGS} ${PAM_LDFLAGS})
+TARGET_LINK_LIBRARIES(${BIN_NAME} "-lpthread -lstdc++" ${PURPLE_LIBRARIES} ${GTHREAD_LIBRARIES} ${CACA_LIBRARIES} ${IMLIB_LIBRARIES} ${GSTREAMER_LIBRARIES} ${FARSIGHT_LIBRARIES} ${PAM_LIBRARIES})
 
 INSTALL(TARGETS ${BIN_NAME}
         DESTINATION bin)
